{% extends "basefront.html.twig" %}
{% block body %}
    <h1> Bienvenue sur mon site personnel de présentation de mes voyages.</h1>
    <p>Dans la partie <a href="{{ path('voyages') }}">Voyages</a>, vous pouvez voir la liste des visites que j'ai fait dans différentes villes.A chaque fois j'ai précisé la ville visitée, le pays, j'ai mis une note entre 0 et 20 et il y a la date de la visite.
    Vous pouvez trier la liste en foction des villes, des pays, des notes et des dates, aussi bien dans l'ordre croissant que décroissant.Vous pouvez aussi filtrer les visites par raport à une ville ou un pays.
    En cliquant sur la ville de la visite, vous pouvez avoir plus d'informations sur la températures minimale, maximale, les environnements(montagnes,mers, déserts...) et une photo. Enfin, vous pouvez me contacter avec le formulaire de <a href="{{ path('contact') }}">Contact</a>
    </p>
    <p>
        Voici mes 2 derniers voyages :
    </p>
      <table>
        <tr>
            {% for visite in visites %}
                <td style="vertical-align: text-top; width: 50%">
                    <div class="row mt-3 mr-3">
                        <div class="col">
                            <p>{{ visite.datecreationstring }}</p>
                            <h3 class="text-primary mt-1">
                                <a href="{{ path('voyages.showone', {id:visite.id}) }}">{{ visite.ville }}</a>
                            </h3>
                            <p>{{ visite.pays }}</p>
                            {% if visite.note>=10 %}
                                <p class="text-success mt-1">{{ visite.note }}/20</p>
                            {% else %}
                                <p class="text-danger mt-1">{{ visite.note }}/20</p>
                            {% endif %}
                            <p class="mt-5">t° entre {{ visite.tempmin }}° et {{ visite.tempmax }}°</p>
                            <p class="mt-1"><strong>Environnements :</strong><br/>
                                {% for environnement in visite.environnements %}
                                    {{ environnement.nom }}
                                {% endfor %}
                            </p>
                        </div>    
                        <div class="col">
                            <!-- emplacement photo -->
                            {% if visite.imagename %}
                                <img src="{{ app.request.getBasePath()~vich_uploader_asset(visite, 'imageFile') }}" 
                                     class="card-img-top" style="width:100%;height:auto;">
                            {% endif %}
                        </div>
                    </div>                    
                </td>
            {% endfor %}    
        </tr>
    </table>
    
     
    
{% endblock %}